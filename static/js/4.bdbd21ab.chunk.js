(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{106:function(e,t,s){e.exports={currentStatus:"ProfileStatus_currentStatus__3xO2Q",status:"ProfileStatus_status__RT_yi",input:"ProfileStatus_input__e2xAy"}},110:function(e,t,s){e.exports={post:"Post_post__1gH9Q",message:"Post_message__2aMQg",likes:"Post_likes__11rsM",numbLikes:"Post_numbLikes__u7L9h",likeButton:"Post_likeButton__26pPt",person:"Post_person__3P_47",text:"Post_text__3uKZ1",image:"Post_image__1K7d6",name:"Post_name__2TXMD"}},111:function(e,t,s){e.exports={posts:"Posts_posts__3gvZ1",newPost:"Posts_newPost__30-zk",field:"Posts_field__S0J6s",text:"Posts_text__3Avn-",textarea:"Posts_textarea__14lbo",textareaError:"Posts_textareaError__1Ig13",button:"Posts_button__3NBWL"}},119:function(e,t,s){"use strict";s.r(t);var i=s(2),a=s(28),r=s(29),o=s(31),c=s(30),n=s(0),l=s.n(n),j=s(16),u=s(24),d=s(114),f=s(99),b=s.n(f),p=s(36),h=s(95),x=s.p+"static/media/profileDefaultLarge.fb8a3f1e.jpg",O=s(106),m=s.n(O),v=s(1),_=function(e){Object(o.a)(s,e);var t=Object(c.a)(s);function s(){var e;Object(a.a)(this,s);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={editMode:!1,userStatus:e.props.userStatus},e.activateEditMode=function(){e.setState({editMode:!0})},e.deactivateEditMode=function(){e.setState({editMode:!1}),e.props.updateUserStatus(e.state.userStatus)},e.onStatusChange=function(t){e.setState({userStatus:t.currentTarget.value})},e}return Object(r.a)(s,[{key:"componentDidUpdate",value:function(e,t){e.userStatus!==this.props.userStatus&&this.setState({userStatus:this.props.userStatus})}},{key:"render",value:function(){return Object(v.jsx)("div",{className:m.a.currentStatus,children:this.state.editMode?Object(v.jsx)("div",{className:m.a.input,children:Object(v.jsx)("input",{onChange:this.onStatusChange,onBlur:this.deactivateEditMode,autoFocus:!0,value:this.state.userStatus,type:"text"})}):Object(v.jsx)("div",{className:m.a.status,onDoubleClick:this.activateEditMode,children:Object(v.jsx)("span",{children:this.state.userStatus||"\u0421\u0442\u0430\u0442\u0443\u0441 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"})})})}}]),s}(l.a.Component),g=s(113),P=function(e){var t=e.isInfoChanged,s=e.profile,i=e.saveProfile;return Object(v.jsx)(g.c,{initialValues:s,onSubmit:function(e){i(e),t(!1)},children:function(e){e.isSubmitting;return Object(v.jsxs)(g.b,{children:[Object(v.jsxs)("div",{className:b.a.profileInfo,children:[Object(v.jsx)("div",{className:b.a.title,children:"My info"}),Object(v.jsxs)("div",{className:b.a.profileJobInfo,children:[Object(v.jsxs)("div",{className:b.a.profileInfoLeft,children:[Object(v.jsx)("div",{children:"Looking for a job"}),Object(v.jsx)("div",{children:"Looking for a job description"}),Object(v.jsx)("div",{children:"About me"})]}),Object(v.jsxs)("div",{className:b.a.profileInfoRight,children:[Object(v.jsx)(g.a,{type:"checkbox",name:"lookingForAJob"}),Object(v.jsx)(g.a,{type:"text",name:"lookingForAJobDescription"}),Object(v.jsx)(g.a,{type:"text",name:"aboutMe"})]})]}),Object(v.jsx)("div",{className:b.a.title,children:"Contacts"}),Object(v.jsxs)("div",{className:b.a.profileContacts,children:[Object(v.jsxs)("div",{className:b.a.profileInfoLeft,children:[Object(v.jsx)("div",{children:"facebook"}),Object(v.jsx)("div",{children:"website"}),Object(v.jsx)("div",{children:"vk"}),Object(v.jsx)("div",{children:"twitter"}),Object(v.jsx)("div",{children:"instagram"}),Object(v.jsx)("div",{children:"youtube"}),Object(v.jsx)("div",{children:"github"}),Object(v.jsx)("div",{children:"mainLink"})]}),Object(v.jsxs)("div",{className:b.a.profileInfoRight,children:[Object(v.jsx)(g.a,{type:"text",name:"contacts.facebook"}),Object(v.jsx)(g.a,{type:"text",name:"contacts.website"}),Object(v.jsx)(g.a,{type:"text",name:"contacts.vk"}),Object(v.jsx)(g.a,{type:"text",name:"contacts.twitter"}),Object(v.jsx)(g.a,{type:"text",name:"contacts.instagram"}),Object(v.jsx)(g.a,{type:"text",name:"contacts.youtube"}),Object(v.jsx)(g.a,{type:"text",name:"contacts.github"}),Object(v.jsx)(g.a,{type:"text",name:"contacts.mainLink"})]})]})]}),Object(v.jsx)("button",{type:"submit",className:b.a.button,children:"Change"})]})}})},N=function(e){var t=Object(n.useState)(!1),s=Object(d.a)(t,2),i=s[0],a=s[1];if(!e.profile)return Object(v.jsx)(p.a,{});return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:b.a.topImage,children:Object(v.jsx)("img",{src:e.profile.photos.large?e.profile.photos.large:x,alt:""})}),Object(v.jsxs)("div",{className:b.a.profile,children:[Object(v.jsxs)("div",{className:b.a.profileImage,children:[Object(v.jsx)("img",{src:e.profile.photos.small?e.profile.photos.small:h.a,alt:""}),e.isOwner?Object(v.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.saveAvatar(t.target.files[0])}}):""]}),Object(v.jsx)("div",{className:b.a.profileName,children:e.profile.fullName}),Object(v.jsx)(_,{userStatus:e.userStatus,updateUserStatus:e.updateUserStatus}),i?Object(v.jsx)(P,{isInfoChanged:a,profile:e.profile,saveProfile:e.saveProfile}):Object(v.jsxs)("div",{className:b.a.profileInfo,children:[Object(v.jsx)("div",{className:b.a.title,children:"My info"}),Object(v.jsxs)("div",{className:b.a.profileJobInfo,children:[Object(v.jsxs)("div",{className:b.a.profileInfoLeft,children:[Object(v.jsx)("div",{children:"Looking for a job"}),Object(v.jsx)("div",{children:"Looking for a job description"}),Object(v.jsx)("div",{children:"About me"})]}),Object(v.jsxs)("div",{className:b.a.profileInfoRight,children:[Object(v.jsx)("div",{children:e.profile.lookingForAJob?"Yes":"No"}),Object(v.jsx)("div",{children:e.profile.lookingForAJobDescription?e.profile.lookingForAJobDescription:"-"}),Object(v.jsx)("div",{children:e.profile.aboutMe?e.profile.aboutMe:"-"})]})]}),Object(v.jsx)("div",{className:b.a.title,children:"Contacts"}),Object(v.jsxs)("div",{className:b.a.profileContacts,children:[Object(v.jsxs)("div",{className:b.a.profileInfoLeft,children:[Object(v.jsx)("div",{children:"facebook"}),Object(v.jsx)("div",{children:"website"}),Object(v.jsx)("div",{children:"vk"}),Object(v.jsx)("div",{children:"twitter"}),Object(v.jsx)("div",{children:"instagram"}),Object(v.jsx)("div",{children:"youtube"}),Object(v.jsx)("div",{children:"github"}),Object(v.jsx)("div",{children:"mainLink"})]}),Object(v.jsxs)("div",{className:b.a.profileInfoRight,children:[Object(v.jsx)("div",{children:e.profile.contacts.facebook?e.profile.contacts.facebook:"-"}),Object(v.jsx)("div",{children:e.profile.contacts.website?e.profile.contacts.website:"-"}),Object(v.jsx)("div",{children:e.profile.contacts.vk?e.profile.contacts.vk:"-"}),Object(v.jsx)("div",{children:e.profile.contacts.twitter?e.profile.contacts.twitter:"-"}),Object(v.jsx)("div",{children:e.profile.contacts.instagram?e.profile.contacts.instagram:"-"}),Object(v.jsx)("div",{children:e.profile.contacts.youtube?e.profile.contacts.youtube:"-"}),Object(v.jsx)("div",{children:e.profile.contacts.github?e.profile.contacts.github:"-"}),Object(v.jsx)("div",{children:e.profile.contacts.mainLink?e.profile.contacts.mainLink:"-"})]})]}),e.isOwner?Object(v.jsx)("button",{className:b.a.button,onClick:function(){return a(!0)},children:"Change"}):""]})]})]})},k=s(40),I=s(20),S=s(23),y=s(17),w=s(110),A=s.n(w),L=function(e){return Object(v.jsxs)("div",{className:A.a.post,children:[Object(v.jsxs)("div",{className:A.a.message,children:[Object(v.jsx)("div",{className:A.a.text,children:e.text}),Object(v.jsxs)("div",{className:A.a.likes,children:[Object(v.jsx)("div",{className:A.a.numbLikes,children:e.nLikes}),Object(v.jsxs)("button",{className:A.a.likeButton,children:[Object(v.jsx)("i",{className:"far fa-heart"}),"like"]})]})]}),Object(v.jsxs)("div",{className:A.a.person,children:[Object(v.jsx)("img",{className:A.a.image,src:e.src,alt:"Avatar not found"}),Object(v.jsx)("div",{className:A.a.name,children:e.name})]})]})},C=s(111),M=s.n(C),U=l.a.memo((function(e){var t=Object(I.a)(e.infoPosts).reverse().map((function(e){return Object(v.jsx)(L,{nLikes:e.nLikes,name:e.name,text:e.text,src:e.src},e.id)}));return Object(v.jsxs)("div",{className:M.a.posts,children:[Object(v.jsx)(J,{addNewPost:e.addNewPost,textreaText:e.textreaText}),t]})})),J=function(e){return Object(v.jsx)(S.b,{className:M.a.newPost,onSubmit:function(t){e.addNewPost(t.newProfilePost),t.newProfilePost=""},children:function(e){var t=e.handleSubmit,s=e.submitting;return Object(v.jsxs)("form",{className:M.a.newPost,onSubmit:t,children:[Object(v.jsx)(S.a,{name:"newProfilePost",className:M.a.field,validate:Object(y.a)(y.d,Object(y.c)(3),Object(y.b)(500)),children:function(e){var t=e.input,s=e.meta;return Object(v.jsxs)("div",{className:M.a.text,children:[Object(v.jsx)("textarea",Object(i.a)(Object(i.a)({},t),{},{type:"textarea",className:M.a.textarea+(s.error&&s.touched?" "+M.a.textareaError:""),placeholder:"Type your message here..."})),s.error&&s.touched&&Object(v.jsxs)("span",{children:[Object(v.jsx)("br",{}),s.error]})]})}}),Object(v.jsx)("button",{type:"submit",className:M.a.button,disabled:s,children:"Send"})]})}})},D=U,T=Object(j.b)((function(e){return{infoPosts:e.profilePage.infoPosts,textreaText:e.profilePage.textreaText}}),(function(e){return{addNewPost:function(t){e(Object(k.a)(t))}}}))(D),E=function(e){return Object(v.jsxs)("div",{children:[Object(v.jsx)(N,{isOwner:e.isOwner,profile:e.profile,userStatus:e.userStatus,updateUserStatus:e.updateUserStatus,saveAvatar:e.saveAvatar,saveProfile:e.saveProfile}),Object(v.jsx)(T,Object(i.a)({},e))]})},F=s(5),R=s(94),B=function(e){Object(o.a)(s,e);var t=Object(c.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(v.jsx)(E,Object(i.a)(Object(i.a)({isOwner:!this.props.match.params.userId},this.props),{},{profile:this.props.profile,userStatus:this.props.userStatus,updateUserStatus:this.props.updateUserStatus,saveAvatar:this.props.saveAvatar,saveProfile:this.props.saveProfile}))}}]),s}(l.a.Component);t.default=Object(u.c)(Object(j.b)((function(e){return{profile:e.profilePage.profile,userStatus:e.profilePage.userStatus,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:k.c,getUserStatus:k.d,updateUserStatus:k.g,saveAvatar:k.e,saveProfile:k.f}),F.f,R.a)(B)},94:function(e,t,s){"use strict";s.d(t,"a",(function(){return b}));var i=s(2),a=s(28),r=s(29),o=s(31),c=s(30),n=s(0),l=s.n(n),j=s(16),u=s(5),d=s(1),f=function(e){return{isAuth:e.auth.isAuth}},b=function(e){var t=function(t){Object(o.a)(n,t);var s=Object(c.a)(n);function n(){return Object(a.a)(this,n),s.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return this.props.isAuth?Object(d.jsx)(e,Object(i.a)({},this.props)):Object(d.jsx)(u.a,{to:"/login"})}}]),n}(l.a.Component);return Object(j.b)(f)(t)}},95:function(e,t,s){"use strict";t.a=s.p+"static/media/default_avatar.eb32662d.jpg"},99:function(e,t,s){e.exports={topImage:"ProfileInfo_topImage__mwcpq",profile:"ProfileInfo_profile__OepAh",profileImage:"ProfileInfo_profileImage__2DqHa",profileName:"ProfileInfo_profileName__2nI5M",profileInfo:"ProfileInfo_profileInfo__2yupd",profileJobInfo:"ProfileInfo_profileJobInfo__2fqTb",profileContacts:"ProfileInfo_profileContacts__1OWPF",title:"ProfileInfo_title__1lmXg",profileInfoLeft:"ProfileInfo_profileInfoLeft__1X75-",profileInfoRight:"ProfileInfo_profileInfoRight__1D3_j",button:"ProfileInfo_button__29Ag7"}}}]);
//# sourceMappingURL=4.bdbd21ab.chunk.js.map