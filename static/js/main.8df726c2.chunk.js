(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,n){e.exports={navigate:"Navigate_navigate__3ENkz",navigateList:"Navigate_navigateList__icyRG",navigateLink:"Navigate_navigateLink__2oc3r",active:"Navigate_active__30bvx"}},17:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s}));var a=function(e){return e||"number"===typeof e?void 0:"\u041d\u0443 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0445\u043e\u0442\u044c \u0447\u0442\u043e-\u043d\u0438\u0431\u0443\u0434\u044c, \u0430"},r=function(e){return function(t){return t&&t.length<e?"\u041d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u0431\u043e\u043b\u044c\u0448\u0435 ".concat(e," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):void 0}},c=function(e){return function(t){return t&&t.length>e?"\u041d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043c\u0435\u043d\u044c\u0448\u0435 ".concat(e," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):void 0}},s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),void 0)}}},19:function(e,t,n){e.exports={appHeader:"Header_appHeader__2C6TT",loginBlock:"Header_loginBlock__OvPlb",loginButton:"Header_loginButton__3hQT-",userName:"Header_userName__1oVK1",buttonLogout:"Header_buttonLogout__AaJL0"}},21:function(e,t,n){"use strict";n.d(t,"c",(function(){return x})),n.d(t,"j",(function(){return v})),n.d(t,"g",(function(){return _})),n.d(t,"f",(function(){return w})),n.d(t,"h",(function(){return y})),n.d(t,"e",(function(){return N})),n.d(t,"d",(function(){return k})),n.d(t,"b",(function(){return S})),n.d(t,"i",(function(){return C}));var a=n(4),r=n.n(a),c=n(8),s=n(20),i=n(2),u=n(9),o="FOLLOW",d="UNFOLLOW",l="SET-USERS",p="SET-CURRENT-PAGE",j="SET-USERS-TOTAL-COUNT",f="TOGGLE_IS_FETCHING",b="FOLLOW_IN_PROGRESS",m="GET_FRIENDS",h="SET_CURRENT_FRIENDS_PAGE",g="SET_FRIENDS_TOTAL_COUNT",O={users:[],friends:[],pageSize:6,totalUsersCount:0,currentPage:1,pageFriendsSize:6,totalFriendsCount:0,currentFriendsPage:1,isFetching:!1,followInProgress:[]},x=function(e){return{type:o,userId:e}},v=function(e){return{type:d,userId:e}},_=function(e){return{type:p,currentPage:e}},w=function(e){return{type:h,currentFriendsPage:e}},y=function(e){return{type:f,isFetching:e}},L=function(e,t){return{type:b,isFetching:e,userID:t}},N=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a){var c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(y(!0)),n.next=3,u.c.getUsers(e,t);case 3:c=n.sent,a(y(!1)),a((s=c.items,{type:l,users:s})),a((r=c.totalCount,{type:j,totalUsersCount:r}));case 7:case"end":return n.stop()}var r,s}),n)})));return function(e){return n.apply(this,arguments)}}()},k=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a){var c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(y(!0)),n.next=3,u.c.getFriends(e,t);case 3:c=n.sent,a(y(!1)),a((s=c.data.items,{type:m,friends:s})),a((r=c.data.totalCount,{type:g,totalFriendsCount:r}));case 7:case"end":return n.stop()}var r,s}),n)})));return function(e){return n.apply(this,arguments)}}()},F=function(){var e=Object(c.a)(r.a.mark((function e(t,n,a,c){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(L(!0,c)),e.next=3,n(c);case 3:0===e.sent.data.resultCode&&(t(a(c)),t(L(!1,c)));case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),S=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.FollowUsers.bind(u.c);case 2:a=t.sent,F(n,a,x,e);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.unFollowUsers.bind(u.c);case 2:a=t.sent,F(n,a,v,e);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!0}):e}))});case d:return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!1}):e}))});case l:return Object(i.a)(Object(i.a)({},e),{},{users:t.users});case m:return Object(i.a)(Object(i.a)({},e),{},{friends:t.friends});case p:return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.currentPage});case j:return Object(i.a)(Object(i.a)({},e),{},{totalUsersCount:t.totalUsersCount});case h:return Object(i.a)(Object(i.a)({},e),{},{currentFriendsPage:t.currentFriendsPage});case g:return Object(i.a)(Object(i.a)({},e),{},{totalFriendsCount:t.totalFriendsCount});case f:return Object(i.a)(Object(i.a)({},e),{},{isFetching:t.isFetching});case b:return Object(i.a)(Object(i.a)({},e),{},{followInProgress:t.isFetching?[].concat(Object(s.a)(e.followInProgress),[t.userID]):[e.followInProgress.filter((function(e){return e!==t.userID}))]});default:return e}}},33:function(e,t,n){e.exports={friend:"Friend_friend__1k-hs",image:"Friend_image__1iIdw",name:"Friend_name__10rWo"}},34:function(e,t,n){e.exports={friends:"Friends_friends__3mMF1",friendsList:"Friends_friendsList__8aTuP",title:"Friends_title__13vmp"}},36:function(e,t,n){"use strict";n(0);var a=n.p+"static/media/preloader.a1a99674.gif",r=n(1);t.a=function(){return Object(r.jsx)("img",{style:{width:"80px",height:"80px"},src:a,alt:"Loading..."})}},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"g",(function(){return O})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return v}));var a=n(4),r=n.n(a),c=n(8),s=n(20),i=n(2),u=n(9),o="ADD-POST",d="SET_USER_PROFILE",l="SET_STATUS",p="DELETE_POST",j="UPDATE_USER_AVATAR",f={infoPosts:[{id:1,name:"Rocket",src:"https://cs-site.ru/uploads/posts/2020-09/1600253903_35.jpg",text:"Nds kmk mkllewkm  kwem kewm kwem wem ekw!!!",nLikes:23},{id:2,name:"Groot",src:"https://gamehag.com/static/avatar/5194053_max.jpg",text:"I AM GROOT!!!",nLikes:47}],profile:null,userStatus:""},b=function(e){return{type:o,newProfilePost:e}},m=function(e){return{type:l,userStatus:e}},h=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.getUser(e);case 2:a=t.sent,n((r=a.data,{type:d,profile:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.getStatus(e);case 2:a=t.sent,n(m(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(m(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.setUserAvatar(e);case 2:0===(a=t.sent).data.resultCode&&n((r=a.data.data.photos,{type:j,photos:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n,a){var c,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a().auth.userId,t.next=3,u.a.saveProfile(e);case 3:if(0!==(s=t.sent).data.resultCode){t.next=8;break}n(h(c)),t.next=9;break;case 8:return t.abrupt("return",{error:s.data.messages[0]});case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:var n={id:3,name:"Maksim",src:"https://hsto.org/getpro/habr/post_images/585/18b/a98/58518ba9884cfa5c4bc1cd9053ef5b4d.png",text:t.newProfilePost,nLikes:0};return Object(i.a)(Object(i.a)({},e),{},{infoPosts:[].concat(Object(s.a)(e.infoPosts),[n])});case p:return Object(i.a)(Object(i.a)({},e),{},{infoPosts:e.infoPosts.filter((function(e){return e.id!==t.postId}))});case d:return Object(i.a)(Object(i.a)({},e),{},{profile:t.profile});case l:return Object(i.a)(Object(i.a)({},e),{},{userStatus:t.userStatus});case j:return Object(i.a)(Object(i.a)({},e),{},{profile:Object(i.a)(Object(i.a)({},e.profile),{},{photos:t.photos})});default:return e}}},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(20),r=n(2),c="ADD-MESSAGE",s={dialogUsers:[{id:1,name:"Rocket Fdasdasd",src:"https://cs-site.ru/uploads/posts/2020-09/1600253903_35.jpg"},{id:2,name:"Groot",src:"https://gamehag.com/static/avatar/5194053_max.jpg"},{id:3,name:"Vanja",src:"https://cs-site.ru/uploads/posts/2020-09/1600253903_35.jpg"},{id:4,name:"Ira",src:"https://gamehag.com/static/avatar/5194053_max.jpg"},{id:5,name:"Valera",src:"https://cs-site.ru/uploads/posts/2020-09/1600253903_35.jpg"},{id:6,name:"John",src:"https://gamehag.com/static/avatar/5194053_max.jpg"},{id:7,name:"Igor",src:"https://cs-site.ru/uploads/posts/2020-09/1600253903_35.jpg"},{id:8,name:"Artjom",src:"https://gamehag.com/static/avatar/5194053_max.jpg"},{id:9,name:"Vasja",src:"https://cs-site.ru/uploads/posts/2020-09/1600253903_35.jpg"},{id:10,name:"Julia",src:"https://gamehag.com/static/avatar/5194053_max.jpg"}],dialogMessages:[{id:1,text:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. A libero officiis tempore architecto fuga porro consequatur dicta incidunt sequi quidem accusantium iste, magnam quaerat possimus qui quod error, doloribus vero molestias? Obcaecati eaque dicta quae accusantium consectetur odit sequi deserunt.",myMessage:!1},{id:2,text:"Lorem ipsum, dolor sit amet consecteo fuga porro consequatur quodti eaque dur odit sequi deserunt.",myMessage:!1},{id:3,text:"Lorem ipsum, dolor sit am.",myMessage:!1},{id:4,text:"Yo",myMessage:!1},{id:5,text:"Rsequatur quodti eaque dur odit sequi deserunt. A libero officiis tempore architecto fuga porro consequatu...Todti eaque dur odit sequi deserunt.",myMessage:!1},{id:6,text:"Todti eaque dur odit sequi deserunt.",myMessage:!1},{id:7,text:"Ui deserunt.",myMessage:!1},{id:8,text:"Latur quodti eaque dur odit sequi deserunt.",myMessage:!1},{id:9,text:"Latur quodti eaque dur odit sequi deserunt.",myMessage:!1},{id:10,text:"Latur quodti eaque dur odit sequi deserunt.",myMessage:!1},{id:11,text:"Latur quodti eaque dur odit sequi deserunt.",myMessage:!1},{id:12,text:"Zonsequatur dicta incidudoloribus vero molestaccusantium consectetur odit sequi deserunt.",myMessage:!1}]},i=function(e){return{type:c,newMessageText:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var n=t.newMessageText;return Object(r.a)(Object(r.a)({},e),{},{dialogMessages:[].concat(Object(a.a)(e.dialogMessages),[{id:13,text:n,myMessage:!0}])});default:return e}}},55:function(e,t,n){e.exports={sidebarColumn:"Sidebar_sidebarColumn__2wRqK"}},7:function(e,t,n){e.exports={loginPage:"Login_loginPage__oCM-V",loginTitle:"Login_loginTitle__2Ztj0",loginForm:"Login_loginForm__2LFDV",text:"Login_text__rp_7-",email:"Login_email__2NS_I",password:"Login_password__2b4kR",inputError:"Login_inputError__yi-dv",rememberMe:"Login_rememberMe__3ZWrA",rememberMeBlock:"Login_rememberMeBlock__2rRo-",error:"Login_error__3mgDW",captcha:"Login_captcha__3EdH2",captchaImage:"Login_captchaImage__3gu1M",captchaBlock:"Login_captchaBlock__2CLII",captchaInput:"Login_captchaInput__22es-",button:"Login_button__rXd4s"}},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},9:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));var a=n(53),r=a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"31e2699e-4b60-49db-98c3-913ea14cbea2"}}),c={getUsers:function(e,t){return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},getFriends:function(e,t){return r.get("users?page=".concat(e,"&count=").concat(t,"&friend=true"))},authMe:function(){return r.get("auth/me")},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.post("auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return r.delete("auth/login")},unFollowUsers:function(e){return r.delete("follow/".concat(e))},FollowUsers:function(e){return r.post("follow/".concat(e))}},s={getCaptcha:function(){return r.get("security/get-captcha-url")}},i={getUser:function(e){return r.get("profile/".concat(e))},getStatus:function(e){return r.get("profile/status/".concat(e))},updateStatus:function(e){return r.put("profile/status",{status:e})},setUserAvatar:function(e){var t=new FormData;return t.append("image",e),r.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return r.put("profile",e)}}},92:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(32),s=n.n(c),i=n(24),u=n(52),o={myFriends:[{id:1,name:"Rocket Fdasdasd",src:"https://cs-site.ru/uploads/posts/2020-09/1600253903_35.jpg"},{id:2,name:"Groot",src:"https://gamehag.com/static/avatar/5194053_max.jpg"},{id:3,name:"Vanja",src:"https://cs-site.ru/uploads/posts/2020-09/1600253903_35.jpg"},{id:4,name:"Ira",src:"https://gamehag.com/static/avatar/5194053_max.jpg"},{id:5,name:"Valera",src:"https://cs-site.ru/uploads/posts/2020-09/1600253903_35.jpg"},{id:6,name:"John",src:"https://gamehag.com/static/avatar/5194053_max.jpg"}]},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return e},l=n(40),p=n(50),j=n(21),f=n(27),b=n(4),m=n.n(b),h=n(8),g=n(2),O=n(9),x=n(18),v="SET_USERS_DATA",_="GET_CAPTCHA_URL",w={userId:null,login:null,email:null,isAuth:!1,captchaURL:null},y=function(e,t,n,a){return{type:v,data:{userId:e,login:t,email:n,isAuth:a}}},L=function(e){return{type:_,captchaURL:e}},N=function(){return function(){var e=Object(h.a)(m.a.mark((function e(t){var n,a,r,c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.c.authMe();case 2:0===(n=e.sent).data.resultCode&&(a=n.data.data,r=a.id,c=a.login,s=a.email,t(y(r,c,s,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(g.a)(Object(g.a)({},e),t.data);case _:return Object(g.a)(Object(g.a)({},e),{},{captchaURL:t.captchaURL});default:return e}},F="INITIALIZED_SUCCESS",S={initialized:!1},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(g.a)(Object(g.a)({},e),{},{initialized:!0});default:return e}},E=Object(i.b)({sideBar:d,dialogsPage:p.b,profilePage:l.b,findUsers:j.a,auth:k,app:C}),P=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.c,T=Object(i.d)(E,P(Object(i.a)(u.a))),U=n(16),I=(n(85),n(28)),R=n(29),M=n(31),A=n(30),q=n(10),D=n(5),B=(n(86),n(87),n(19)),z=n.n(B),G=n(1),H=function(e){return Object(G.jsxs)("header",{className:z.a.appHeader,children:[Object(G.jsx)(q.b,{to:"/profile",children:Object(G.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/1/1e/RPC-JP_Logo.png",alt:"Logo not found"})}),Object(G.jsx)("div",{className:z.a.loginBlock,children:e.isAuth?Object(G.jsxs)("div",{className:z.a.loginBlock,children:[Object(G.jsxs)("div",{className:z.a.userName,children:[" ",e.login," "]}),Object(G.jsx)("button",{className:z.a.buttonLogout,onClick:e.logout,children:"Logout"})]}):Object(G.jsx)(q.b,{to:"/login",className:z.a.loginButton,children:"Login"})})]})},V=function(e){Object(M.a)(n,e);var t=Object(A.a)(n);function n(){return Object(I.a)(this,n),t.apply(this,arguments)}return Object(R.a)(n,[{key:"render",value:function(){return Object(G.jsx)(H,Object(g.a)({},this.props))}}]),n}(r.a.Component),J=Object(U.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth}}),{logout:function(){return function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.c.logout();case 2:0===e.sent.data.resultCode&&t(y(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(V),W=n(55),Z=n.n(W),K=n(11),X=n.n(K),Y=function(e){return Object(G.jsx)("nav",{className:X.a.navigate,children:Object(G.jsxs)("ul",{className:X.a.navigateList,children:[Object(G.jsx)("li",{className:X.a.navigateLink,children:Object(G.jsx)(q.b,{to:"/profile",activeClassName:X.a.active,children:"Profile"})}),Object(G.jsx)("li",{className:X.a.navigateLink,children:Object(G.jsx)(q.b,{to:"/dialogs",activeClassName:X.a.active,children:"Messages"})}),Object(G.jsx)("li",{className:X.a.navigateLink,children:Object(G.jsx)(q.b,{to:"/news",activeClassName:X.a.active,children:"News"})}),Object(G.jsx)("li",{className:X.a.navigateLink,children:Object(G.jsx)(q.b,{to:"/music",activeClassName:X.a.active,children:"Music"})}),Object(G.jsx)("li",{className:X.a.navigateLink,children:Object(G.jsx)(q.b,{to:"/findUsers",activeClassName:X.a.active,children:"FindUsers"})}),Object(G.jsx)("li",{className:X.a.navigateLink,children:Object(G.jsx)(q.b,{to:"/settings",activeClassName:X.a.active,children:"Settings"})})]})})},Q=n(33),$=n.n(Q),ee=function(e){return Object(G.jsx)("li",{className:$.a.friend,children:Object(G.jsxs)(q.b,{to:"/profile",children:[Object(G.jsx)("img",{className:$.a.image,src:e.src,alt:"Avatar not found"}),Object(G.jsx)("span",{className:$.a.name,children:e.name})]})})},te=n(34),ne=n.n(te),ae=function(e){var t=e.myFriends.map((function(e){return Object(G.jsx)(ee,{name:e.name,src:e.src},e.id)}));return Object(G.jsxs)("div",{className:ne.a.friends,children:[Object(G.jsx)("h3",{className:ne.a.title,children:"Friends"}),Object(G.jsx)("ul",{className:ne.a.friendsList,children:t})]})},re=Object(U.b)((function(e){return{myFriends:e.sideBar.myFriends}}),(function(e){return{}}))(ae),ce=function(e){return Object(G.jsxs)("div",{className:Z.a.sidebarColumn,children:[Object(G.jsx)(Y,{}),Object(G.jsx)(re,{})]})},se=n(23),ie=n(7),ue=n.n(ie),oe=n(17),de=Object(U.b)(null,{login:function(e,t,n,a){return function(){var r=Object(h.a)(m.a.mark((function r(c){var s;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c(Object(j.h)(!0)),r.next=3,O.c.login(e,t,n,a);case 3:if(0!==(s=r.sent).data.resultCode){r.next=8;break}c(N()),r.next=11;break;case 8:if(10!==s.data.resultCode){r.next=11;break}return c(function(){var e=Object(h.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(j.h)(!0)),e.next=3,O.b.getCaptcha();case 3:n=e.sent,a=n.data.url,t(L(a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.abrupt("return",Object(f.a)({},x.a,s.data.messages[0]));case 11:return c(Object(j.h)(!1)),r.abrupt("return",Object(f.a)({},x.a,s.data.messages[0]));case 13:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return Object(G.jsx)(se.b,{onSubmit:function(t){return e.login(t.email,t.password,t.rememberMe,t.captcha)},children:function(t){var n=t.handleSubmit,a=t.submitError;return Object(G.jsxs)("form",{onSubmit:n,className:ue.a.loginForm,children:[Object(G.jsx)(se.a,{name:"email",className:ue.a.loginBlock,validate:Object(oe.a)(oe.d,Object(oe.c)(3),Object(oe.b)(30)),children:function(e){var t=e.input,n=e.meta;return Object(G.jsxs)("div",{className:ue.a.text,children:[Object(G.jsx)("input",Object(g.a)(Object(g.a)({},t),{},{type:"email",className:ue.a.email+(n.error&&n.touched?" "+ue.a.inputError:""),placeholder:"Email"})),n.error&&n.touched&&Object(G.jsx)("span",{children:n.error})]})}}),Object(G.jsx)(se.a,{name:"password",className:ue.a.passwordBlock,validate:Object(oe.a)(oe.d,Object(oe.c)(4),Object(oe.b)(50)),children:function(e){var t=e.input,n=e.meta;return Object(G.jsxs)("div",{className:ue.a.text,children:[Object(G.jsx)("input",Object(g.a)(Object(g.a)({},t),{},{type:"password",className:ue.a.password+(n.error&&n.touched?" "+ue.a.inputError:""),placeholder:"Password"})),n.error&&n.touched&&Object(G.jsx)("span",{children:n.error})]})}}),Object(G.jsx)(se.a,{name:"rememberMe",children:function(e){var t=e.input;return Object(G.jsxs)("div",{className:ue.a.rememberMeBlock,children:[Object(G.jsx)("input",Object(g.a)(Object(g.a)({},t),{},{type:"checkbox",className:ue.a.rememberMe})),Object(G.jsx)("span",{children:"Remember me"})]})}}),a&&Object(G.jsx)("div",{className:ue.a.error,children:a}),e.captchaURL&&Object(G.jsxs)("div",{className:ue.a.captcha,children:[Object(G.jsx)("img",{className:ue.a.captchaImage,alt:"captcha",src:e.captchaURL}),Object(G.jsx)(se.a,{name:"captcha",children:function(e){var t=e.input;return Object(G.jsx)("div",{className:ue.a.captchaBlock,children:Object(G.jsx)("input",Object(g.a)(Object(g.a)({className:ue.a.captchaInput},t),{},{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0435"}))})}})]}),Object(G.jsx)("button",{type:"submit",className:ue.a.button,children:"Login"})]})}})})),le=Object(U.b)((function(e){return{isAuth:e.auth.isAuth,captchaURL:e.auth.captchaURL}}),{})((function(e){return e.isAuth?Object(G.jsx)(D.a,{to:"/profile"}):Object(G.jsxs)("div",{className:ue.a.loginPage,children:[Object(G.jsx)("h2",{className:ue.a.loginTitle,children:"Login"}),Object(G.jsx)(de,{captchaURL:e.captchaURL})]})})),pe=n(36),je=r.a.lazy((function(){return n.e(5).then(n.bind(null,121))})),fe=r.a.lazy((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,119))})),be=r.a.lazy((function(){return n.e(8).then(n.bind(null,115))})),me=r.a.lazy((function(){return n.e(7).then(n.bind(null,116))})),he=r.a.lazy((function(){return n.e(6).then(n.bind(null,120))})),ge=r.a.lazy((function(){return n.e(9).then(n.bind(null,117))})),Oe=function(e){Object(M.a)(n,e);var t=Object(A.a)(n);function n(){return Object(I.a)(this,n),t.apply(this,arguments)}return Object(R.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(G.jsx)(q.a,{basename:"/react-course",children:Object(G.jsxs)("div",{className:"app-wrapper",children:[Object(G.jsx)(J,{}),Object(G.jsx)(ce,{}),Object(G.jsx)(a.Suspense,{fallback:Object(G.jsx)("div",{className:"preloader",children:Object(G.jsx)(pe.a,{})}),children:Object(G.jsxs)("div",{className:"content",children:[Object(G.jsx)(D.b,{path:"/login",render:function(){return Object(G.jsx)(le,{})}}),Object(G.jsx)(D.b,{path:"/profile/:userId?",render:function(){return Object(G.jsx)(fe,{})}}),Object(G.jsx)(D.b,{path:"/dialogs",render:function(){return Object(G.jsx)(je,{})}}),Object(G.jsx)(D.b,{path:"/news",render:function(){return Object(G.jsx)(be,{})}}),Object(G.jsx)(D.b,{path:"/music",render:function(){return Object(G.jsx)(me,{})}}),Object(G.jsx)(D.b,{path:"/findUsers",render:function(){return Object(G.jsx)(he,{})}}),Object(G.jsx)(D.b,{path:"/settings",render:function(){return Object(G.jsx)(ge,{})}})]})})]})}):Object(G.jsx)("div",{className:"preloader",children:Object(G.jsx)(pe.a,{})})}}]),n}(a.Component),xe=Object(U.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(N());case 2:t({type:F});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Oe),ve=function(e){e&&e instanceof Function&&n.e(10).then(n.bind(null,118)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(G.jsx)(U.a,{store:T,children:Object(G.jsx)(xe,{})}),document.getElementById("root")),ve()}},[[92,1,2]]]);
//# sourceMappingURL=main.8df726c2.chunk.js.map